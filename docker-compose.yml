version: '2'
services:
    mysql:
       image: daocloud.io/ld00000/azkaban-mysql:0.7.0
       restart: always
       environment:
           - MYSQL_USER=azkaban
           - MYSQL_PASSWORD=passw0rd
           - MYSQL_DATABASE=azkaban
           - MYSQL_ROOT_PASSWORD=passw0rd
       volumes:
           - /etc/localtime:/etc/localtime:ro
           - /etc/timezone:/etc/timezone:ro

    azkaban-exec-server:
       build: azkaban-exec-server/
       restart: always
       depends_on:
           - mysql
    #        environment:
       volumes:
           - /etc/localtime:/etc/localtime:ro
           - /etc/timezone:/etc/timezone:ro
#       ports:
#           - "12321:12321"

    azkaban-web-server:
        build: azkaban-web-server/
        restart: always
        depends_on:
            - mysql
#        environment:
#            - HADOOP_HOME=hadoop
        ports:
            - "8082:8081"
        volumes:
            - /etc/localtime:/etc/localtime:ro
            - /etc/timezone:/etc/timezone:ro

#    hadoop:
#        image: docker pull harisekhon/hadoop

